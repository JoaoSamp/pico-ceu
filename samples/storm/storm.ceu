#include "c.ceu"
#include "sdl/sdl.ceu"

native/pos do
    ##include <time.h>
end

#define WIN_W 640
#define WIN_H 480

#define PI 3.14159265

data Color with
    var integer r;
    var integer g;
    var integer b;
end

data Vector2D with
    var integer x;
    var integer y;
end

data Rect with
    var integer x;
    var integer y;
    var integer w;
    var integer h;
end

emit WINDOW_SET_TITLE("Storm");
emit WINDOW_SET_SIZE(WIN_W,WIN_H,WIN_W,WIN_H);
emit FRAMES_SET(yes);
emit FRAMES_SET_CLEAR_RGB(0x21,0x2c,0x34);

#include "physics.ceu"
#include "car.ceu"
#include "light.ceu"
#include "clouds.ceu"

var& Car car = spawn Car();
spawn Clouds();

#include "collisions.ceu"
spawn Collisions();

await FOREVER;
